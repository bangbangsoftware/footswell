!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let o,s=window.localStorage;const r=e=>{const t=e.getAttribute("swapper"),n=s.getItem("swap-"+t);if(!n)return e.classList.add("swap-selected"),void s.setItem("swap-"+t,e.id);s.removeItem("swap-"+t);const r=document.getElementById(n);r.classList.remove("swap-selected"),n===e.id&&console.error("what are you doing swap with itself???!");const c=o.getKey(r),l=o.getKey(e),d=r[c]+"",i=e[l];i!==d&&(e[l]=d+"",r[c]=i,o.put(e),o.put(r))};let c;const l=e=>{const t=e.getAttribute("toggle").split(/,/),n=c.getKey(e),o=e[n],s=t.map((e,t)=>{return e.trim()===o&&t}).find(e=>!1!==e),r=t.length>s+1?s+1:0;e[n]=t[r],c.put(e)};let d=window.localStorage,i=document;const a={};let u=[];const m=[];const g=()=>{const e=d.getItem("reg");if(!e)return;const t=JSON.parse(e);Object.keys(t).forEach(e=>a[e]={currentValue:t[e],elements:[]})},p=e=>e.name?e.name:!!e.getAttribute&&e.getAttribute("name"),y=e=>"input"===e.localName,M=e=>y(e)?"value":"innerText",f={put:h,get:b,getKey:M},v=e=>{(e=>{const t=p(e);t&&(e.id?m.indexOf(e.id)>-1||(m.push(e.id),E(e,t),u.forEach(t=>{t(f)(e)})):console.error("This needs a id to get registered",e))})(e);for(var t=0,n=e.childNodes.length;t<n;t++)v(e.childNodes[t])},E=(e,t)=>{const n=y(e),o=M(e);L(e,t,o),n&&I(e,e=>h(e.target))};function h(e){const t=p(e),n=M(e),o=b(t),s=o||{currentValue:e[n],elements:[e]};s.currentValue=e[n],s.elements=s.elements.map(e=>{return e[M(e)]=s.currentValue,e}),a[t]=s;const r={};Object.keys(a).forEach(e=>{r[e]=a[e].currentValue});const c=JSON.stringify(r);d.setItem("reg",c)}function b(e){return a[e]}const L=(e,t,n)=>{const o=b(t),s=o?o.elements:[];s.push(e);const r=o?o.currentValue:e[n];e[n]=r;return h(e),a},I=(e,t)=>{const n=e=>t(e);e.addEventListener("change",e=>n(e)),e.addEventListener("onpaste",e=>n(e)),e.addEventListener("keyup",e=>n(e)),e.addEventListener("oninput",e=>n(e))};const B=(e,t)=>{t.innerText=0;const n=parseInt(e.innerText)+1;n<10?e.innerText="0"+n:(e.innerText=n,t.classList.add("red"),e.classList.add("red"))},w=e=>e<10?"0"+e:e;let T=[];const k=e=>(t,n="score")=>{const o=e.getElementById(n);o.innerText=parseInt(o.innerText)+t},x=e=>t=>{if(t.element.classList.add("crossout"),null==t.state)return;const n="concide"===t.state?"vrsScore":"score";e(-1,n)},O=e=>t=>{if(t.element.classList.remove("crossout"),null==t.state)return;const n="concide"===t.state?"vrsScore":"score";e(1,n)},S=(e,t)=>n=>{n.crossedOut=!n.crossedOut,n.crossedOut?e(n):t(n)};const V=(e,t,n)=>o=>{o.time=function(){const e=new Date;return`${w(e.getHours())}:${w(e.getMinutes())}:${w(e.getSeconds())}`}();const s=e.createElement("div");s.classList.add("result"),s.innerText=o.time;const r=e.createElement("div");r.classList.add("result"),r.innerText=o.detail,o.element=r;const c=e.createElement("button");c.classList.add("result"),c.innerText="X",c.addEventListener("click",()=>n(o)),o.id=T.length,o.crossedOut=!1,t.appendChild(s),t.appendChild(r),t.appendChild(c),T.push(o)},A=e=>()=>{const t=new Date;let n="";T.filter(e=>!e.crossedOut).forEach(e=>{n=n+e.time+", "+e.detail+"\n"});const o=t+".csv",s=new Blob([n],{type:"csv"});if(window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(s,o);const r=e.createElement("a"),c=URL.createObjectURL(s);r.href=c,r.download=o,e.body.appendChild(r),r.click(),setTimeout(()=>{e.body.removeChild(r),window.URL.revokeObjectURL(c)},0)};let j=null;const W=document.getElementById("results"),Y=function(e,t){const n=k(e),o=x(n),s=O(n),r=S(o,s);return{changeScore:n,post:V(e,t,r),download:A(e)}}(document,W),N=document.getElementById("seconds"),P=document.getElementById("minutes"),C=(_=P,J=N,{increment:()=>{const e=parseInt(J.innerText)+1;e>59?B(_,J):J.innerText=e<10?`0${e}`:e},reset:()=>{J.innerText="00",J.classList.remove("red"),_.innerText="00",_.classList.remove("red")}});var _,J;document.getElementById("reset").addEventListener("click",()=>D()),document.getElementById("playon").addEventListener("click",()=>R()),document.getElementById("whistle").addEventListener("click",()=>U()),document.getElementById("finished").addEventListener("click",e=>$(e)),document.getElementById("kickoff").addEventListener("click",e=>q(e)),document.getElementById("vrsScore").addEventListener("click",e=>F(e));console.log(""),console.log("     ,...                                                             ,,    ,,"),console.log('   .d\'""                  mm                                        `7MM  `7MM '),console.log("   dM`                    MM                                          MM    MM  "),console.log('  mMMmm,pW"Wq.   ,pW"Wq.mmMMmm     ,pP"Ybd `7M\'    ,A    `MF\'.gP"Ya   MM    MM  '),console.log("   MM 6W'   `Wb 6W'   `Wb MM       8I   `\"   VA   ,VAA   ,V ,M'   Yb  MM    MM  "),console.log('   MM 8M     M8 8M     M8 MM       `YMMMa.    VA ,V  VA ,V  8M""""""  MM    MM  '),console.log("   MM YA.   ,A9 YA.   ,A9 MM       L.   I8     VVV    VVV   YM.    ,  MM    MM  "),console.log(" .JMML.`Ybmd9'   `Ybmd9'  `Mbmo    M9mmmP'      W      W     `Mbmmd'.JMML..JMML."),console.log(""),function(e){i.getElementsByTagName("BODY")[0].style.display="none";for(const e in a)delete a[e];g(),u=e,i.querySelectorAll("*").forEach(e=>v(e)),i.getElementsByTagName("BODY")[0].style.display="block"}([e=>(o=e,e=>{e.getAttribute("swapper")&&(console.log("switcher ",e.id),e.addEventListener("click",t=>r(e)))}),e=>(c=e,e=>{e.getAttribute("toggle")&&e.addEventListener("click",t=>l(e))})]),(()=>{for(let e=1;e<22;e++){const t=document.getElementById("position"+e);try{t.addEventListener("click",e=>K(e))}catch(t){console.error(e+". failed is it in the markup?"),console.error(t)}}})();const K=e=>{const t=e.target.innerText;if(!t)return void console.log(e.target.name+" ("+e.target.id+") has no player defined!");Y.changeScore(1),Y.post({detail:"Goal by "+t,state:"scored"});const n=document.getElementById("scored");n.innerText="!!! "+t+" scored !!!",n.classList.remove("hide"),h(n),setTimeout(()=>{document.getElementById("scored").classList.add("hide")},3e3)},q=e=>{e.target.style.display="none",T=[],document.getElementById("kickoff").classList.remove("hide");const t=document.getElementById("where").innerText,n=document.getElementById("opposition").value,o="Kick off at "+t.toLocaleLowerCase()+" vrs "+n;Y.post({detail:o}),document.getElementById("score").innerText="0",document.getElementById("vrsScore").innerText="0",R()},D=()=>{Y.post({detail:"New quarter"}),C.reset()},R=()=>{j=setInterval(C.increment,1e3),document.getElementById("whistle").classList.remove("hide"),document.getElementById("playing").classList.remove("hide"),document.getElementById("bench").classList.add("hide"),document.getElementById("stateblock").style.display="none"},U=()=>{document.getElementById("whistle").classList.add("hide"),document.getElementById("playing").classList.add("hide"),document.getElementById("bench").classList.remove("hide"),document.getElementById("stateblock").style.display="grid",clearInterval(j),j=null},$=e=>{U(),Y.post({detail:"Final Whistle"}),Y.download(),document.getElementById("kickoff").style.display="block",e.target.style.display="none"},F=e=>{const t=e.target;t.innerText=parseInt(t.innerText)+1;const n=document.getElementById("opposition").value;Y.post({detail:"Conceded a goal from "+n,state:"concide"})}}]);
//# sourceMappingURL=fs.js.map