!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=new Array,s=e=>"input"===e.localName,r=e=>e.style.display="none",l=e=>e.style.display="block";let c=window.localStorage,i=document,d=Array();const a={},u=e=>a[e],m=e=>{if(s(e)){return e.value}return e.innerText},g=(e,t)=>{if(s(e)){e.value=t}e.innerText=t};function p(e){const t=B(e);""===t&&console.error("NO name in element !!!!? ",e);const n=u(t),o={currentValue:m(e),elements:[e]},s=n||o;s.currentValue=m(e),s.elements=s.elements.map(e=>(g(e,s.currentValue),e)),s.elements.find(t=>t.id===e.id)||s.elements.push(e),a[t]=s;const r={};Object.keys(a).forEach(e=>{r[e]=a[e].currentValue});const l=JSON.stringify(r);c.setItem("reg",l)}function y(e=Array()){r(i.getElementsByTagName("BODY")[0]);for(const e in a)delete a[e];M(),d=e,i.querySelectorAll("*").forEach(e=>v(e)),l(i.getElementsByTagName("BODY")[0])}const f=new Map,M=()=>{const e=c.getItem("reg");if(E(),e)try{const t=JSON.parse(e);Object.keys(t).forEach(e=>a[e]={currentValue:t[e],elements:[]})}catch(t){console.error("cannot parse",e),console.error(typeof e),console.error(t)}},E=()=>{const e=e=>{const t=e.target.id,n=f.get(t);null!=n&&n(e)};i.addEventListener("change",t=>e(t)),i.addEventListener("onpaste",t=>e(t)),i.addEventListener("keyup",t=>e(t)),i.addEventListener("oninput",t=>e(t))},v=e=>{if(null!=e){L(e);for(var t=0,n=e.childNodes.length;t<n;t++){const n=e.childNodes[t];n instanceof HTMLElement&&v(n)}}},h={put:p,get:u,getValue:m,setValue:g,registerAll:v},L=e=>{const t=B(e);"OVER"===e.getAttribute("name")&&console.log(t,"checking ",e),t&&(e.id?o.find(t=>t===e.id)||("OVER"===e.getAttribute("name")&&console.log("checking.................... ",e),o.push(e.id),I(e,t),d.forEach(t=>{t(h)(e)})):console.error("No id so cannot register",e))},I=(e,t)=>{const n=s(e);b(e,t),n&&w(e,e=>p(e.target))},B=e=>e.getAttribute("name")||"",b=(e,t)=>{const n=u(t);(n?n.elements:[]).push(e);const o=n?n.currentValue:m(e);g(e,o),p(e)},w=(e,t)=>{f.set(e.id,e=>t(e))};let T=window.localStorage;let k,x=document;const O=e=>{const t=e.getAttribute("swapper"),n=T.getItem("swap-"+t);if(!n)return e.classList.add("swap-selected"),void T.setItem("swap-"+t,e.id);T.removeItem("swap-"+t);const o=x.getElementById(n);if(null==o)return void console.error(n+" is missing ???!");if(o.classList.remove("swap-selected"),n===e.id)return void console.error("what are you doing swap with itself???!");const s=k.getValue(o)+"",r=k.getValue(e);r!==s?(k.setValue(e,s+""),k.setValue(o,r+""),k.put(e),k.put(o)):console.log("Don't swap to itself '"+r+"'")};let V;const A=e=>{const t=(e.getAttribute("toggle")||"").split(/,/).map(e=>e.trim()),n=V.getValue(e),o=t.map((e,t)=>{return e.trim()===n&&t}).find(e=>!1!==e);if(void 0===o)return console.error("Cannot find element with value '"+n+"'"),V.setValue(e,t[0]),void V.put(e);const s=t.length>o+1?o+1:0;V.setValue(e,t[s]),V.put(e)};let S=document;const N={},j=(e,t)=>{const n=N[e],o=void 0===n?[]:n;o.push(t),N[e]=o},W=()=>{var e=S.createElement("style");e.type="text/css",e.innerHTML=".hide { display: none; } ",S.getElementsByTagName("head")[0].appendChild(e)},Y=e=>{e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")};const P=(e,t,n)=>()=>{const o=parseInt(t.innerText)+1;o>59?R(e,t,n):t.innerText=o<10?`0${o}`:o},C=(e,t)=>()=>{t.innerText="00",t.classList.remove("red"),e.innerText="00",e.classList.remove("red")};const R=(e,t,n)=>{t.innerText=0;const o=parseInt(e.innerText)+1;o<n?e.innerText="0"+o:(e.innerText=F(o),t.classList.add("red"),e.classList.add("red"))},F=e=>e<10?"0"+e:e;let _=[];const D=e=>(t,n="score")=>{const o=e.getElementById(n);o.innerText=parseInt(o.innerText)+t},J=(e,t,n=1)=>{if(n<1?t.element.classList.add("crossout"):t.element.classList.remove("crossout"),null==t.state)return;e(n,"concide"===t.state?"vrsScore":"score")},U=e=>t=>{t.crossedOut=!t.crossedOut;const n=t.crossedOut?-1:1;J(e,t,n)},q=(e,t)=>{const n=_.find(t=>t.detail===e);n.element.innerText=""+t,n.detail=""+t};const H=(e,t,n,o)=>s=>{s.time=function(e=new Date){return`${F(e.getHours())}:${F(e.getMinutes())}:${F(e.getSeconds())}`}();const r=e.createElement("div");r.createName="time",r.classList.add("result"),r.innerText=s.time;const l=e.createElement("div");l.createName="result",l.classList.add("result"),l.innerText=s.detail,s.element=l;const c=e.createElement("button");return c.createName="deleteToggle",c.classList.add("result"),c.innerText="X",c.addEventListener("click",()=>n(s)),s.id=_.length,s.crossedOut=!1,t.appendChild(r),t.appendChild(l),t.appendChild(c),_.push(s),null!=s.state&&J(o,s,1),s},$=e=>()=>{const t=new Date;let n="";_.filter(e=>!e.crossedOut).forEach(e=>{n=n+e.time+", "+e.detail+"\n"});const o=t+".csv",s=new Blob([n],{type:"csv"});if(window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(s,o);const r=e.createElement("a"),l=URL.createObjectURL(s);r.href=l,r.download=o,e.body.appendChild(r),r.click(),setTimeout(()=>{e.body.removeChild(r),window.URL.revokeObjectURL(l)},0)};let G=null;const K=document.getElementById("results"),X=function(e,t){const n=D(e),o=U(n),s=H(e,t,o,n),r=$(e);return{changeScore:n,post:s,replacePost:q,download:r}}(document,K),z=document.getElementById("seconds"),Q=function(e,t,n=10){return{increment:P(e,t,n),reset:C(e,t,n)}}(document.getElementById("minutes"),z);document.getElementById("reset").addEventListener("click",()=>oe()),document.getElementById("playon").addEventListener("click",()=>se()),document.getElementById("whistle").addEventListener("click",()=>re()),document.getElementById("finished").addEventListener("click",e=>le(e)),document.getElementById("kickoff").addEventListener("click",()=>ee()),document.getElementById("vrsScore").addEventListener("click",()=>ce()),document.getElementById("newForm1").addEventListener("click",()=>de()),document.getElementById("newForm2").addEventListener("click",()=>de()),document.getElementById("where").addEventListener("click",()=>ne());console.log(""),console.log("     ,...                                                             ,,    ,,"),console.log('   .d\'""                  mm                                        `7MM  `7MM '),console.log("   dM`                    MM                                          MM    MM  "),console.log('  mMMmm,pW"Wq.   ,pW"Wq.mmMMmm     ,pP"Ybd `7M\'    ,A    `MF\'.gP"Ya   MM    MM  '),console.log("   MM 6W'   `Wb 6W'   `Wb MM       8I   `\"   VA   ,VAA   ,V ,M'   Yb  MM    MM  "),console.log('   MM 8M     M8 8M     M8 MM       `YMMMa.    VA ,V  VA ,V  8M""""""  MM    MM  '),console.log("   MM YA.   ,A9 YA.   ,A9 MM       L.   I8     VVV    VVV   YM.    ,  MM    MM  "),console.log(" .JMML.`Ybmd9'   `Ybmd9'  `Mbmo    M9mmmP'      W      W     `Mbmmd'.JMML..JMML."),console.log(""),y([e=>(k=e,e=>{e.getAttribute("swapper")&&e.addEventListener("click",t=>O(e))}),e=>(V=e,e=>{e.getAttribute("toggle")&&e.addEventListener("click",t=>A(e))}),()=>(W(),e=>{const t=e.getAttribute("showhide");if(t)return void j(t,e);const n=e.getAttribute("showhide-trigger");n&&e.addEventListener("click",()=>{console.log("BOOM");const e=N[n];console.log(e),e.forEach(e=>Y(e))})})]),(()=>{for(let e=1;e<22;e++){const t=document.getElementById("position"+e);try{t.addEventListener("click",e=>Z(e))}catch(t){console.error(e+". failed is it in the markup?"),console.error(t)}}})();const Z=e=>{const t=e.target.innerText;if(!t)return void console.log(e.target.name+" ("+e.target.id+") has no player defined!");X.post({detail:"Goal by "+t,state:"scored"});const n=document.getElementById("scored");n.innerText="!!! "+t+" scored !!!",n.classList.remove("hide"),p(n),setTimeout(()=>{document.getElementById("scored").classList.add("hide")},3e3)},ee=()=>{document.getElementById("kickoff-grid").style.display="none",document.getElementById("finished").classList.remove("hide"),_=[];const e=te();X.post({detail:e}),document.getElementById("score").innerText="0",document.getElementById("vrsScore").innerText="0",se()},te=(e=!1)=>{const t=document.getElementById("where").innerText;return"Kick off "+(e?"HOME"===t?"away":"home":t.toLowerCase())+" vrs "+document.getElementById("opposition").value},ne=()=>{const e=te(),t=te(!0);X.replacePost(e,t)},oe=()=>{X.post({detail:"New quarter"}),Q.reset()},se=()=>{G=setInterval(Q.increment,1e3),document.getElementById("whistle").classList.remove("hide"),document.getElementById("playing").classList.remove("hide"),document.getElementById("bench").classList.add("hide"),document.getElementById("stateblock").style.display="none"},re=()=>{document.getElementById("whistle").classList.add("hide"),document.getElementById("playing").classList.add("hide"),document.getElementById("bench").classList.remove("hide"),document.getElementById("stateblock").style.display="grid",clearInterval(G),G=null},le=e=>{re();const t=document.getElementById("vrsScore").innerText,n=document.getElementById("score").innerText,o=document.getElementById("opposition").value,s=document.getElementById("teamName").value;X.post({detail:"Final Whistle- "+s+":"+n+" vrs "+o+": "+t}),X.download(),document.getElementById("kickoff").style.display="block",e.target.style.display="none"},ce=()=>{const e=document.getElementById("opposition").value;X.post({detail:"Conceded a goal from "+e,state:"concide"})},ie=(e,t,n)=>{const o=((e,t)=>{let n="";for(let o=e;o<t;o++){const e=document.getElementById("position"+o);e.innerText&&(n=""===n?e.innerText:n+", "+e.innerText)}return n})(t,n);return o?e+": "+o+". ":""},de=()=>{console.log("FORMATION");const e="Formation-  "+ie("Up front",1,6)+ie("Midfield",6,11)+ie("Back",11,16)+ie("Goal",16,17);X.post({detail:e})}}]);
//# sourceMappingURL=fs.js.map