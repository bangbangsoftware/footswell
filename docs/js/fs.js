!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=new Array,s=new Array,r=e=>"input"===e.localName,l=e=>e.style.display="none",i=e=>e.style.display="block";let c=window.localStorage,d=document,a="reg";const u={},m=e=>u[e],g=e=>{if(r(e)){return e.value}return e.innerText},p=(e,t)=>{if(r(e)){e.value=t}e.innerText=t},y=e=>e.getAttribute("name")||"";function f(e){const t=y(e);if(""===t)return console.error("NO name in element !!!!? ",e),u;const n=m(t),o={currentValue:g(e),elements:[e]},s=n||o;s.currentValue=g(e),s.elements=s.elements.map(e=>(p(e,s.currentValue),e)),s.elements.find(t=>t.id===e.id)||s.elements.push(e),u[t]=s;const r={};Object.keys(u).forEach(e=>{r[e]=u[e].currentValue});const l=JSON.stringify(r);return c.setItem(a,l),u}function M(e=Array(),t="reg"){a=t,l(d.getElementsByTagName("BODY")[0]);for(const e in u)delete u[e];h();const n=e.map(e=>e(B)),o=d.querySelectorAll("*");let s={};o.forEach(e=>{s=I(e,n,s)}),console.log("Detected....."),Object.keys(s).forEach(e=>{console.log(e+" - "+s[e])}),console.log("............."),i(d.getElementsByTagName("BODY")[0])}const v=new Map,E=new Map,h=()=>{console.log("Binder getting data from '"+a+"' in local storage");const e=c.getItem(a);if(L(),e)try{const t=JSON.parse(e);Object.keys(t).forEach(e=>u[e]={currentValue:t[e],elements:[]})}catch(t){console.error("cannot parse",e),console.error(typeof e),console.error(t)}},b=(e,t)=>{if(null==e.target)return;const n=e.target.id,o=t.get(n);null!=o&&o(e)},L=()=>{d.addEventListener("change",e=>b(e,v)),d.addEventListener("onpaste",e=>b(e,v)),d.addEventListener("keyup",e=>b(e,v)),d.addEventListener("oninput",e=>b(e,v)),d.addEventListener("click",e=>b(e,E))},I=(e,t=Array(),n)=>{if(null==e)return n;const o=T(e,t);if(0===o.length){const e=0|n.total;n.total=e+1}o.forEach(e=>{const t=e.attributes[0],o=0|n[t];n[t]=o+1});for(var s=0,r=e.childNodes.length;s<r;s++){const o=e.childNodes[s];if(o instanceof HTMLElement)return I(o,t,n)}return n},B={put:f,get:m,getValue:g,setValue:p,clickListener:(e,t)=>{E.set(e.id,e=>t(e))}},w=(e,t)=>{if(!e.id||void 0===e.id){e.id=t+"-"+o.length;const n=r(e)?"input":"None input";console.error("No id for "+n+" element so, generating one: ",e.id)}return e},T=(e,t=Array())=>{const n=y(e);return n&&(w(e,n),x(e,n)),((e,t)=>e.filter(e=>((e,t)=>void 0!==e.attributes.find(e=>t.hasAttribute(e)))(e,t)))(t,e).filter(t=>{const n=t.attributes.map(t=>e.getAttribute(t)).find(e=>null!=e)||"",o=n||t.attributes[0];return w(e,o),k(e,t,o)})},k=(e,t,n)=>!s.some(n=>n===e.id+"::"+t.attributes[0])&&(s.push(e.id+"::"+t.attributes[0]),t.process(e,n)),x=(e,t)=>!o.some(t=>t===e.id)&&(o.push(e.id),O(e,t),r(e)&&((e,t)=>{v.set(e.id,e=>t(e))})(e,e=>f(e.target)),!0),O=(e,t)=>{const n=m(t);(n?n.elements:[]).push(e);const o=n?n.currentValue:g(e);p(e,o),f(e)};let V=window.localStorage;let A,S=document;const N=e=>{const t=e.getAttribute("swapper"),n=V.getItem("swap-"+t);if(!n)return e.classList.add("swap-selected"),void V.setItem("swap-"+t,e.id);V.removeItem("swap-"+t);const o=S.getElementById(n);if(null==o)return void console.error(n+" is missing ???!");if(o.classList.remove("swap-selected"),n===e.id)return void console.error("what are you doing swap with itself???!");const s=A.getValue(o)+"",r=A.getValue(e);r!==s?(A.setValue(e,s+""),A.setValue(o,r+""),A.put(e),A.put(o)):console.log("Don't swap to itself '"+r+"'")};let j;const W=e=>{const t=(e.getAttribute("toggle")||"").split(/,/).map(e=>e.trim()),n=j.getValue(e),o=t.map((e,t)=>{return e.trim()===n&&t}).find(e=>!1!==e);if(void 0===o)return console.error("Cannot find element with value '"+n+"'"),j.setValue(e,t[0]),void j.put(e);const s=t.length>o+1?o+1:0;j.setValue(e,t[s]),j.put(e)};let Y=document;const P={},C=(e,t)=>{const n=P[e],o=void 0===n?[]:n;o.push(t),P[e]=o},D=()=>{var e=Y.createElement("style");e.type="text/css",e.innerHTML=".hide { display: none; } ",Y.getElementsByTagName("head")[0].appendChild(e)},F=e=>{e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")};const _=(e,t,n)=>()=>{const o=parseInt(t.innerText)+1;o>59?R(e,t,n):t.innerText=o<10?`0${o}`:o},J=(e,t)=>()=>{t.innerText="00",t.classList.remove("red"),e.innerText="00",e.classList.remove("red")};const R=(e,t,n)=>{t.innerText=0;const o=parseInt(e.innerText)+1;o<n?e.innerText="0"+o:(e.innerText=U(o),t.classList.add("red"),e.classList.add("red"))},U=e=>e<10?"0"+e:e;let q=[];const H=e=>(t,n="score")=>{const o=e.getElementById(n);o.innerText=parseInt(o.innerText)+t},$=(e,t,n=1)=>{if(n<1?t.element.classList.add("crossout"):t.element.classList.remove("crossout"),null==t.state)return;e(n,"concide"===t.state?"vrsScore":"score")},G=e=>t=>{t.crossedOut=!t.crossedOut;const n=t.crossedOut?-1:1;$(e,t,n)},K=(e,t)=>{const n=q.find(t=>t.detail===e);n.element.innerText=""+t,n.detail=""+t};const X=(e,t,n,o)=>s=>{s.time=function(e=new Date){return`${U(e.getHours())}:${U(e.getMinutes())}:${U(e.getSeconds())}`}();const r=e.createElement("div");r.createName="time",r.classList.add("result"),r.innerText=s.time;const l=e.createElement("div");l.createName="result",l.classList.add("result"),l.innerText=s.detail,s.element=l;const i=e.createElement("button");return i.createName="deleteToggle",i.classList.add("result"),i.innerText="X",i.addEventListener("click",()=>n(s)),s.id=q.length,s.crossedOut=!1,t.appendChild(r),t.appendChild(l),t.appendChild(i),q.push(s),null!=s.state&&$(o,s,1),s},z=e=>()=>{const t=new Date;let n="";q.filter(e=>!e.crossedOut).forEach(e=>{n=n+e.time+", "+e.detail+"\n"});const o=t+".csv",s=new Blob([n],{type:"csv"});if(window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(s,o);const r=e.createElement("a"),l=URL.createObjectURL(s);r.href=l,r.download=o,e.body.appendChild(r),r.click(),setTimeout(()=>{e.body.removeChild(r),window.URL.revokeObjectURL(l)},0)};let Q=null;const Z=document.getElementById("results"),ee=function(e,t){const n=H(e),o=G(n),s=X(e,t,o,n),r=z(e);return{changeScore:n,post:s,replacePost:K,download:r}}(document,Z),te=document.getElementById("seconds"),ne=function(e,t,n=10){return{increment:_(e,t,n),reset:J(e,t,n)}}(document.getElementById("minutes"),te);document.getElementById("reset").addEventListener("click",()=>ie()),document.getElementById("playon").addEventListener("click",()=>ce()),document.getElementById("whistle").addEventListener("click",()=>de()),document.getElementById("finished").addEventListener("click",e=>ae(e)),document.getElementById("kickoff").addEventListener("click",()=>se()),document.getElementById("vrsScore").addEventListener("click",()=>ue()),document.getElementById("newForm1").addEventListener("click",()=>ge()),document.getElementById("newForm2").addEventListener("click",()=>ge()),document.getElementById("where").addEventListener("click",()=>le());console.log(""),console.log("     ,...                                                             ,,    ,,"),console.log('   .d\'""                  mm                                        `7MM  `7MM '),console.log("   dM`                    MM                                          MM    MM  "),console.log('  mMMmm,pW"Wq.   ,pW"Wq.mmMMmm     ,pP"Ybd `7M\'    ,A    `MF\'.gP"Ya   MM    MM  '),console.log("   MM 6W'   `Wb 6W'   `Wb MM       8I   `\"   VA   ,VAA   ,V ,M'   Yb  MM    MM  "),console.log('   MM 8M     M8 8M     M8 MM       `YMMMa.    VA ,V  VA ,V  8M""""""  MM    MM  '),console.log("   MM YA.   ,A9 YA.   ,A9 MM       L.   I8     VVV    VVV   YM.    ,  MM    MM  "),console.log(" .JMML.`Ybmd9'   `Ybmd9'  `Mbmo    M9mmmP'      W      W     `Mbmmd'.JMML..JMML."),console.log(""),M([e=>(A=e,{attributes:["swapper"],process:t=>(e.clickListener(t,e=>N(t)),!0)}),e=>(j=e,{attributes:["toggle"],process:(t,n)=>(e.clickListener(t,e=>W(t)),!0)}),e=>(D(),{attributes:["showhide","showhide-trigger"],process:(t,n)=>{const o=t.getAttribute("showhide");return o?(C(o,t),!0):(e.clickListener(t,()=>{P[n].forEach(e=>F(e))}),!0)}})]),(()=>{for(let e=1;e<22;e++){const t=document.getElementById("position"+e);try{t.addEventListener("click",e=>oe(e))}catch(t){console.error(e+". failed is it in the markup?"),console.error(t)}}})();const oe=e=>{const t=e.target.innerText;if(!t)return void console.log(e.target.name+" ("+e.target.id+") has no player defined!");ee.post({detail:"Goal by "+t,state:"scored"});const n=document.getElementById("scored");n.innerText="!!! "+t+" scored !!!",n.classList.remove("hide"),f(n),setTimeout(()=>{document.getElementById("scored").classList.add("hide")},3e3)},se=()=>{document.getElementById("kickoff-grid").style.display="none",document.getElementById("finished").classList.remove("hide"),q=[];const e=re();ee.post({detail:e}),document.getElementById("score").innerText="0",document.getElementById("vrsScore").innerText="0",ce()},re=(e=!1)=>{const t=document.getElementById("where").innerText;return"Kick off "+(e?"HOME"===t?"away":"home":t.toLowerCase())+" vrs "+document.getElementById("opposition").value},le=()=>{const e=re(),t=re(!0);ee.replacePost(e,t)},ie=()=>{ee.post({detail:"New quarter"}),ne.reset()},ce=()=>{Q=setInterval(ne.increment,1e3),document.getElementById("whistle").classList.remove("hide"),document.getElementById("playing").classList.remove("hide"),document.getElementById("bench").classList.add("hide"),document.getElementById("stateblock").style.display="none"},de=()=>{document.getElementById("whistle").classList.add("hide"),document.getElementById("playing").classList.add("hide"),document.getElementById("bench").classList.remove("hide"),document.getElementById("stateblock").style.display="grid",clearInterval(Q),Q=null},ae=e=>{de();const t=document.getElementById("vrsScore").innerText,n=document.getElementById("score").innerText,o=document.getElementById("opposition").value,s=document.getElementById("teamName").value;ee.post({detail:"Final Whistle- "+s+":"+n+" vrs "+o+": "+t}),ee.download(),document.getElementById("kickoff").style.display="block",e.target.style.display="none"},ue=()=>{const e=document.getElementById("opposition").value;ee.post({detail:"Conceded a goal from "+e,state:"concide"})},me=(e,t,n)=>{const o=((e,t)=>{let n="";for(let o=e;o<t;o++){const e=document.getElementById("position"+o);e.innerText&&(n=""===n?e.innerText:n+", "+e.innerText)}return n})(t,n);return o?e+": "+o+". ":""},ge=()=>{console.log("FORMATION");const e="Formation-  "+me("Up front",1,6)+me("Midfield",6,11)+me("Back",11,16)+me("Goal",16,17);ee.post({detail:e})}}]);
//# sourceMappingURL=fs.js.map